<%page expression_filter="h" args="section_data"/>

<%!
from django.utils.encoding import escape_uri_path
from django.utils.translation import ugettext as _
from openedx.core.djangolib.markup import HTML, Text

%>

<%page args="section_data" expression_filter="h"/>
<%! from openedx.core.djangolib.markup import HTML %>


<input type="text" name="username" id="filter_username"> <button>Filter User</button>

<table class="table table-bordered">
  <thead>
    <tr>
      <th>Username</th>
      <th>Name</th>
      <th>Email</th>
    </tr>
  </thead>
  <tbody>
    % for user in section_data['users']:
      <tr>
        <td>${user.username }</td>
        <td>${user.first_name } ${user.last_name}</td>
        <td>${user.email }</td>
      </tr>
    % endfor
  </tbody>
</table>

% if section_data['users'].has_other_pages:
  <ul class="pagination">
    % if section_data['users'].has_previous:
      <li><a href="?page= section_data['users'].previous_page_number">&laquo;</a></li>
    % else:
      <li class="disabled"><span>&laquo;</span></li>
    % endif
    % for i in section_data['users'].paginator.page_range:
      % if section_data['users'].number == i:
        <li class="active"><span>${i} <span class="sr-only">(current)</span></span></li>
      % else:
        <li><a href="?page=${i}">${i}</a></li>
      % endif
    % endfor
    % if section_data['users'].has_next:
      <li><a href="?page= section_data['users'].next_page_number">&raquo;</a></li>
    % else:
      <li class="disabled"><span>&raquo;</span></li>
    %endif
  </ul>
%endif


<section class="recap-dashboard">
    ${HTML(section_data['fragment'].body_html())}
</section>

  <script>
    $("#filter_username").change(function () {
      console.log("change")

    });
  </script>


<style>
table {
    font-family: arial, sans-serif;
    border-collapse: collapse;
    width: 100%;
}

td, th {
    border: 1px solid #dddddd;
    text-align: left;
    padding: 8px;
}

</style>
